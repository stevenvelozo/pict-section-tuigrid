<!doctype html>
<html lang="en">
	<head>
		<title>Invoice Grid — Custom Marshaling Example</title>
		<style id="PICT-CSS">
			body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; margin: 20px; background: #f5f5f5; }
			h1 { color: #333; margin-bottom: 4px; }
			p.subtitle { color: #666; margin-top: 0; margin-bottom: 16px; }
			.invoice-footer { margin-top: 16px; text-align: right; font-size: 18px; color: #333; }
			.invoice-footer strong { font-size: 22px; }
			.invoice-notes { margin-top: 12px; padding: 12px; background: #e8f4e8; border-left: 4px solid #4caf50; color: #333; font-size: 14px; }
			.invoice-notes code { background: #ddd; padding: 2px 4px; border-radius: 3px; }
		</style>
		<link href="tui-grid.css" rel="stylesheet">
		<script src="./pict.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			Pict.safeOnDocumentReady(
				() =>
				{
					Pict.safeLoadPictApplication(InvoiceGrid, 1);
				});
		</script>
	</head>
	<body>
		<h1>Invoice Grid</h1>
		<p class="subtitle">Custom data marshaling — computed line totals, automatic discounts, and a live invoice total.</p>
		<div id="InvoiceGridContainer"></div>
		<div class="invoice-footer">
			Invoice Total: <strong id="InvoiceTotalValue">$0.00</strong>
		</div>
		<div class="invoice-notes">
			<strong>How it works:</strong>
			Edit <code>Unit Price</code> or <code>Quantity</code> to see the <code>Line Total</code> recompute instantly.
			Lines over $500 automatically receive a 10% discount.
			Negative quantities are clamped to zero in <code>preChangeHandler()</code>.
			The invoice total updates via custom DOM writes in <code>changeHandler()</code>.
		</div>
		<script src="./tui-grid.js" type="text/javascript"></script>
		<script src="./invoice_grid.min.js" type="text/javascript"></script>
	</body>
</html>
